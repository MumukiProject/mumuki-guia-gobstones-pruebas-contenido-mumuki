<div class="btn-group" role="group" aria-label="Emojis">
  <button type="button" class="btn btn-secondary emoji-button" onclick="writeEmoji('⬇️️')">⬇️️</button>
  <button type="button" class="btn btn-secondary emoji-button" onclick="writeEmoji('➡️')">➡️</button>
  <button type="button" class="btn btn-secondary emoji-button" onclick="writeEmoji('⬅️')">⬅️</button>
  <button type="button" class="btn btn-secondary emoji-button" onclick="writeEmoji('⬆️')">⬆️</button>
  <button type="button" class="btn btn-secondary emoji-button" onclick="writeEmoji('🚅️')">🚅️</button>
  <button type="button" class="btn btn-secondary emoji-button" onclick="writeEmoji('🍮️')">🍮️</button>
  <button type="button" class="btn btn-secondary emoji-button" onclick="writeEmoji('🚗️')">🚗️</button>
  <button type="button" class="btn btn-secondary emoji-button" onclick="writeEmoji('🌼️')">🌼️</button>
</div>
<div class="form-horizontal">
  <div class="form-group">
    <div class="input-group">
      <ol class="mu-inputs">
      <li>
        <input 
        id="emojis_message1" 
        name="primer_dibujo"
        type="text" 
        class="form-control mu-free-form-input" 
        onchange="onChange()"
        placeholder="Primer dibujo">
      </li>
      <li>
        <input 
        id="emojis_message2" 
        name="segundo_dibujo"
        type="text" 
        class="form-control mu-free-form-input" 
        onchange="onChange()"
        placeholder="Segundo dibujo">
      </li>
      <li>
        <input 
        id="emojis_message3" 
        name="tercer_dibujo"
        type="text" 
        class="form-control mu-free-form-input" 
        onchange="onChange()"
        placeholder="Tercer dibujo">
      </li>
      <li>
        <input 
        id="emojis_message4" 
        name="cuarto_dibujo"
        type="text" 
        class="form-control mu-free-form-input" 
        onchange="onChange()"
        placeholder="Cuarto dibujo">
      </li>
      </ol>
    </div>
  </div>
</div>


<script>
  let start;
  
  function writeEmoji(emoji) {
    const emojisInput = $('#emojis_message');
    const emojiCursorStart = emojisInput.prop('selectionStart');
    const emojiCursorEnd = emojisInput.prop('selectionEnd');
    const value = emojisInput.val() || '';
    const textBefore = value.substring(0,  emojiCursorStart);
    const textAfter  = value.substring(emojiCursorEnd, value.length);
    emojisInput.val(textBefore + emoji + textAfter);
    start = emojiCursorStart + emoji.length;
    $('#emojis_message.mu-free-form-input').change();
  }

  function onChange() {
    const input = $('#emojis_message');
    input[0].setSelectionRange(start, start);
    input.focus();
  }
</script>

<style>
  .emoji-button {
    background-color: #ecf0f1;
    border: 1px solid #dce4ec;
    border-radius: 4px;
  }
  
  .emoji-button:focus {
    outline-color: #0B456D;
  }
</style>
